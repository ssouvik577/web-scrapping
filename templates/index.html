<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Product Data Extractor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

<body>
    <div class="container-sm">
        <div class="container text-center">
            <h1>Product Data Extractor</h1>
            <form method="POST">
                <div class="mb-3">
                    <label for="url" class="form-label">Please enter flipkart product page URL</label>
                    <input class="form-control" type="url" id="url" name="url"
                        placeholder="https://www.flipkart.com/noise-icon-buzz-1-69...."
                        aria-label="default input example">
                </div>
                <button type="submit" class="btn btn-primary">Extract Data</button>
            </form>

            {% if data %}
            <h2 style="margin-top: 20px;">Product Details</h2>

        </div>
        <table class="table table-success table-striped" style="margin-top: 20px;">
            <tbody>
                {% if data.image_url %}
                <tr>
                    <th>Image</th>
                    <td><img src="{{ data.image_url }}" alt="{{ data.title }}"></td>
                </tr>
                {% endif %}

                {% if data.title %}
                <tr>
                    <th>Title</th>
                    <td>{{ data.title }}</td>
                </tr>
                {% endif %}

                {% if data.mrp %}
                <tr>
                    <th>MRP</th>
                    <td>{{ data.mrp }}</td>
                </tr>
                {% endif %}

                {% if data.selling_price %}
                <tr>
                    <th>Selling Price</th>
                    <td>{{ data.selling_price }}</td>
                </tr>
                {% endif %}

                {% if data.description %}
                <tr>
                    <th>Description</th>
                    <td>{{ data.description }}</td>
                </tr>
                {% endif %}

                {% if data.higlited_list %}
                <tr>
                    <th>Highlights</th>
                    <td>
                        {% for item in data.higlited_list %}
                        <li>{{ item }}</li>
                        {% endfor %}
                    </td>
                </tr>
                {% endif %}

                {% if data.rating %}
                <tr>
                    <th>Rating</th>
                    <td>{{ data.rating }}</td>
                </tr>
                {% endif %}

                {% if data.reviews %}
                <tr>
                    <th>Reviews</th>
                    <td>{{ data.reviews }}</td>
                </tr>
                {% endif %}

                {% if data.offers %}
                <tr>
                    <th>Offers</th>
                    <td>{{ data.offers }}</td>
                </tr>
                {% endif %}
                
                <tr>
                    <th>More</th>
                    <td><a href="{{ data.more }}" target="_blank">Click Here</a></td>
                </tr>
            </tbody>
        </table>
        {% elif error_message %}
        <div class="alert alert-danger" role="alert">
            {{ error_message }}
        </div>
        {% else %}
        <p>Enter a product URL and click "Extract Data" to see the details.</p>
        {% endif %}

        <div class="card" style="margin-bottom: 15PX;">
            <div class="card-body">
                NOTE: Please note that web scraping, the automated extraction of data from websites, is often against the
                    terms of service of many websites. The project presented here is solely for demonstration purposes
                    to showcase how scraping works. All data obtained through scraping belongs to Flipkart and is used
                    here only as an example.
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>